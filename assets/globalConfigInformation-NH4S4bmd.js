import{an as g,A as i,u as t,a as r,b as m,K as y,C as d,P as n}from"./index-DBqQFHFZ.js";import{u as p}from"./getUserInfo-BLnPLUKQ.js";const P=()=>{const a=g(),s=m();p();const o="api/registerVerifycode.do?timestamp="+Date.now(),c=i({mutationFn:e=>y("api/native/v2/initPickPwd.do",e),onSuccess:e=>{e.success===!0?window.location.href="/withdraw":e.success===!1&&console.log(e.msg)}}),u=i({mutationFn:e=>d("api/register.do",e),onSuccess:e=>{if(e.success===!0)a.invalidateQueries({queryKey:["userDetails"]}),n.info("Successfully Register");else if(e.success===!1)return n.info(e.msg),o}}),l=t({queryKey:["getRegisterConfig"],staleTime:1e3,enabled:!1,queryFn:async()=>await r("/api/native/v2/regconfig.do?platform=120&lan=en"),select:e=>{s.commit("setRegisterConfig",e)},onError:e=>{console.log(`error: ${e}`)}}),f=t({queryKey:["getMissionTasks"],staleTime:1e3,enabled:!1,queryFn:async()=>await r("/api/getTaskCenterList.do?load=true"),select:e=>{s.commit("setMissiontask",e)},onError:e=>{console.log(`error: ${e}`)}});return{registerConfig:l,withdrawPassword:c,registration:u,registerCode:o,missionTasks:f}};export{P as u};
