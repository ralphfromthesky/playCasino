import{r as o,u as H,A as ae,E as ie,d as r,h as b,i as F,b as ce,f as e,t as n,j as a,y as X,g as d,e as p,n as C,F as ue,l as de,I as me,J as pe,k as fe,a as Y,K as ve}from"./index-DBqQFHFZ.js";import{_ as _e}from"./shuaxin-SyisbN3d.js";import{_ as he,a as be,b as we,c as xe,d as ge}from"./AlertBox-DgC9TNZm.js";import{_ as D}from"./return-DQqgQfKM.js";import{W as Fe}from"./WithdrawLayout-D6OxT9DB.js";import{e as Z}from"./vue3-otp-input.esm-E77deVMh.js";import{u as Ce}from"./withdrawBankAccounts-CdN7m2_l.js";const ye="/images/bank_card.png",ke={class:"flex flex-col"},Ae={class:"flex p-[.2rem] bg-[#05309F] border-b border-b-[#3A61C2]"},Ne={class:"flex w-full items-center"},Oe={class:"flex flex-col w-full"},Be={class:"flex items-center gap-[.1rem]"},Se=e("span",{class:"text-white text-[.25rem]"},"Saldo da Conta",-1),Ve={class:"text-[#FFAA09] text-[.25rem]"},Ie=e("img",{class:"w-[.3rem]",src:_e,alt:""},null,-1),Pe={class:"flex"},qe={class:"text-[#6FA4EF] text-[.22rem]"},Me={class:"flex"},$e={class:"bg-[#FFF0BB] h-[.5rem] w-[1.2rem] border border-[#FFF0BB] rounded-[.1rem] text-[#05309F] relative"},je={class:"h-[.32rem] w-fit left-[40%] right-0 -top-[.23rem] absolute z-10"},Te={class:"bg-[#FF4A4A] rounded-[.126rem] rounded-bl-none text-white p-[.07rem] pt-0 h-[.26rem] w-full leading-[.26rem] text-[.16rem]"},Ue=e("p",{class:"border-b-[.07rem] border-b-transparent border-l-[.07rem] border-l-[#FF4A4A] border-r-[.07rem] border-r-transparent"},null,-1),Ee=e("div",{class:"flex p-[.2rem] bg-[#05309F] border-b border-b-[#3A61C2]"},[e("div",{class:"w-full"},[e("div",{class:"border border-[#FFF0BB] rounded-[.1rem] p-[.2rem] relative overflow-hidden"},[e("div",{class:"flex items-center justify-center w-full"},[e("span",{class:"text-white text-[.2rem]"},"Retirada normal")]),e("div",{class:"flex items-center bg-[#FFF0BB] w-[.5rem] h-[.5rem] absolute -right-[.25rem] -bottom-[.25rem] rotate-[45deg]"},[e("img",{src:be,class:"-rotate-[45deg] w-[.2rem]",alt:""})])])])],-1),Re={class:"flex flex-col w-full p-[.2rem] gap-[.5rem]"},We=e("div",{class:"flex items-center justify-between w-full h-[.7rem] p-[.2rem] border border-[#3A61C2] bg-[#05309F] rounded-[.15rem]"},[e("div",{class:"flex items-center gap-[.2rem]"},[e("img",{class:"w-[.4rem]",src:ye,alt:""}),e("span",{class:"text-[#6FA4EF] text-[.23rem]"},"Adicionar Conta")]),e("div",{class:"flex items-center"},[e("img",{class:"rotate-180 w-[.3rem]",src:D,alt:""})])],-1),Ke={key:1,class:"w-full border-[.01rem] border-[#3A61C2] bg-[#05309F] flex items-center gap-[.2rem] rounded-[.1rem]"},ze={class:"w-full relative"},Ge={class:"flex items-center gap-[.2rem]"},Je=e("img",{src:we,alt:"",class:"w-[.3rem]"},null,-1),Le={class:"text-[#A0C5FB] text-[.22rem]"},Qe=["onClick"],He={class:"flex items-center justify-between w-full h-[.7rem] p-[.2rem] border border-[#3A61C2] bg-[#05309F] rounded-[.15rem]"},Xe={class:"flex items-center gap-[.2rem] w-full"},Ye={class:"text-white text-[.23rem]"},Ze=["placeholder"],De=e("div",{class:"bg-[#3A61C2] w-full p-[.005rem] mt-[.5rem]"},null,-1),et={class:"flex flex-col gap-[.1rem]"},tt={class:"flex justify-between"},st=e("span",{class:"text-[.22rem] text-white"},"Senha de Saque",-1),pt={__name:"WithdrawalPage",setup(ot){var O,B,S;const{bankAccount:ee}=Ce(),f=ce(),y=f.state.userConfig.content,i=o(""),k=t=>{i.value=t},m=o(!1);function te(){m.value=!m.value}const c=o(!1);function A(){c.value=!c.value}const se=o(""),w=o(""),v=o(""),x=o(""),_=o("");o(!1);const g=o(""),h=(S=(B=(O=f==null?void 0:f.state)==null?void 0:O.withdrawConfig)==null?void 0:B.content)==null?void 0:S.configData,u=o([]);H({queryKey:["getUserBanks"],queryFn:async()=>await Y("/api/native/v2/userBanks.do"),staleTime:1e3,select:t=>{u.value=t,w.value=t.content[0].bankName,v.value=t.content[0].id,x.value=t.content[0].cardNo}});const N=o([]);H({queryKey:["getUserRate"],queryFn:async()=>await Y("/api/native/v2/userBillIndex.do"),staleTime:1e3,select:t=>{N.value=t}});const oe=ae({mutationFn:t=>ve("api/native/v2/withdrawForWap.do",t),onSuccess:t=>{t.success===!0?(_.value="",i.value="",document.querySelector(".AlertBox").click(),g.value="Operation Successful!"):t.success===!1&&(document.querySelector(".AlertBox").click(),g.value=t.msg)}});function le(){oe.mutate({bankId:v.value,money:_.value,repPwd:i.value})}function ne(t){m.value=!1,w.value=t.bankName,se.value=t.bankCode,v.value=t.id,x.value=t.cardNo}return(t,l)=>{const re=ie("router-link");return r(),b(Fe,null,{default:F(()=>{var V,I,P,q,M,$,j,T,U,E,R,W,K,z,G,J,L,Q;return[e("div",ke,[e("div",Ae,[e("div",Ne,[e("div",Oe,[e("div",Be,[Se,e("span",Ve,n((V=a(h))==null?void 0:V.accountBalance),1),Ie]),e("div",Pe,[e("span",qe,"The amount of betting for the withdrawal is "+n((I=a(y))==null?void 0:I.money_unit)+n((q=(P=a(h))==null?void 0:P.betNum)==null?void 0:q.drawNeed),1)])]),e("div",Me,[e("button",$e,[X(" Juros "),e("div",je,[e("p",Te,n(($=(M=N.value)==null?void 0:M.sevendayRate)==null?void 0:$.toFixed(2))+"%",1),Ue])])])])]),Ee,e("div",Re,[((T=(j=u.value)==null?void 0:j.content)==null?void 0:T.length)===0?(r(),b(re,{key:0,onClick:l[0]||(l[0]=s=>a(ee).refetch()),to:"/manageaccount"},{default:F(()=>[We]),_:1})):d("",!0),((E=(U=u.value)==null?void 0:U.content)==null?void 0:E.length)>0?(r(),p("div",Ke,[e("div",ze,[e("div",{onClick:te,class:"flex items-center justify-between w-full p-[.2rem]"},[e("div",Ge,[Je,e("span",Le,n(w.value)+" ("+n(x.value)+")",1)]),e("img",{src:D,alt:"",class:C(m.value?"w-[.25rem] rotate-90 transition-all":"w-[.25rem] -rotate-90 transition-all")},null,2)]),e("div",{class:C(m.value?"transition-all overflow-auto flex flex-col w-full py-[.2rem] h-auto max-h-[7rem] border-[.01rem] border-[#3A61C2] bg-[#05309F] left-0 rounded-[.1rem] absolute mt-[.2rem]":"hidden transition-all")},[(r(!0),p(ue,null,de((R=u.value)==null?void 0:R.content,(s,lt)=>(r(),p("span",{onClick:nt=>ne(s),class:C((s==null?void 0:s.id)===v.value?"text-white font-bold p-[.2rem] bg-[#505050]":"text-white p-[.2rem]")},n(s==null?void 0:s.bankName)+" ("+n(s==null?void 0:s.cardNo)+")",11,Qe))),256))],2)])])):d("",!0),e("div",He,[e("div",Xe,[e("span",Ye,n((W=a(y))==null?void 0:W.money_unit),1),me(e("input",{"onUpdate:modelValue":l[1]||(l[1]=s=>_.value=s),class:"h-[.5rem] text-white text-[.23rem] bg-transparent outline-none w-full",placeholder:"Minimum amount "+((K=a(h))==null?void 0:K.minPickMoney)+", Maximum amount "+((z=a(h))==null?void 0:z.maxPickMoney),type:"text"},null,8,Ze),[[pe,_.value]])])]),De,e("div",et,[e("div",tt,[st,c.value?(r(),p("img",{key:0,onClick:A,src:xe,class:"w-[.4rem]"})):d("",!0),c.value?d("",!0):(r(),p("img",{key:1,onClick:A,src:ge,class:"w-[.4rem]"}))]),c.value?(r(),b(a(Z),{key:0,tabindex:"1",ref:"otpInput","input-classes":"otpInputs disabled:cursor-no-drop caret-transparent",conditionalClass:["one","two","three","four","five","six"],separator:"",inputmode:"numeric","input-type":"letter-numeric","num-inputs":6,value:i.value,"onUpdate:value":l[2]||(l[2]=s=>i.value=s),"should-auto-focus":!1,"should-focus-order":!0,onOnChange:k,"is-disabled":!((J=(G=u.value)==null?void 0:G.content)!=null&&J.length)>0,onOnComplete:t.handleOnComplete},null,8,["value","is-disabled","onOnComplete"])):d("",!0),c.value?d("",!0):(r(),b(a(Z),{key:1,tabindex:"1",ref:"otpInput","input-classes":"otpInputs disabled:cursor-no-drop  !text-[.8rem] caret-transparent",conditionalClass:["one","two","three","four","five","six"],separator:"",inputmode:"numeric","input-type":"password","num-inputs":6,value:i.value,"onUpdate:value":l[3]||(l[3]=s=>i.value=s),"should-auto-focus":!1,"should-focus-order":!0,onOnChange:k,"is-disabled":!((Q=(L=u.value)==null?void 0:L.content)!=null&&Q.length)>0,onOnComplete:t.handleOnComplete},null,8,["value","is-disabled","onOnComplete"]))]),e("button",{onClick:l[4]||(l[4]=s=>le()),class:"w-full h-[.7rem] bg-[#FFF0BB] text-[#05309F] rounded-[.1rem] text-[.2rem]"},"Confirmar")])]),fe(he,null,{default:F(()=>[X(n(g.value),1)]),_:1})]}),_:1})}}};export{pt as default};
